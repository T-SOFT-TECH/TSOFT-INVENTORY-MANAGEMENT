
@if (mobileService.isMobileMenuOpen()) {
  <div
    class="fixed inset-0 bg-gray-500/50 dark:bg-black/50 z-30 md:hidden backdrop-blur-sm"
    (click)="mobileService.closeMobileMenu()"
  ></div>
}
<!-- Sidebar -->
<aside
  class="fixed left-0 top-16 h-screen w-64
         bg-white dark:bg-surface-dark-primary
         border-r border-gray-200 dark:border-gray-800
         z-30 transform transition-transform duration-300 ease-in-out
         -translate-x-full md:translate-x-0"
  [class.translate-x-0]="mobileService.isMobileMenuOpen()"
>


  <!-- Navigation Menu -->
  <div class="overflow-y-auto h-[calc(100vh-4rem)] px-3 py-2">
    <!-- Staff Menu Sections -->
    @for (section of staffMenu; track section.title) {
      <div class="mb-6">
        <h2 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2">{{ section.title }}</h2>
        @for (item of section.items; track item.route) {
          <a [routerLink]="item.route"
             routerLinkActive="bg-primary-50 dark:bg-primary-500/30 border-primary-500 text-primary-600 dark:text-primary-500"
             class="flex items-center px-3 py-2 rounded-lg
                    text-gray-700 dark:text-gray-300
                    border border-primary-600 dark:border-primary-600/20
                    hover:bg-primary-50 dark:hover:bg-primary-500/5
                    hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400
                    transition-all duration-200 mb-1 group
                    shadow-sm hover:shadow-md"
             (click)="mobileService.closeMobileMenu()">
            <span class="material-icons text-xl mr-3 text-gray-400 dark:text-gray-500
                         group-hover:text-primary-500 transition-colors">
              {{ item.icon }}
            </span>
            <span class="flex-1">{{ item.label }}</span>
            @if (item.badge) {
              <span class="px-2 py-0.5 text-xs bg-primary-500 text-white rounded-full">
                {{ item.badge }}
              </span>
            }
          </a>
        }
      </div>
    }

    <!-- Admin Menu Sections -->
    @if (isAdmin()) {
      @for (section of adminMenu; track section.title) {
        <div class="mb-6">
          <h2 class="px-3 text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2">{{ section.title }}</h2>
          @for (item of section.items; track item.route) {
            <a [routerLink]="item.route"
               routerLinkActive="bg-primary-50 dark:bg-primary-500/10 border-primary-500 text-primary-600 dark:text-primary-500"
               class="flex items-center px-3 py-2 rounded-lg
                      text-gray-700 dark:text-gray-300
                      border border-primary-600 dark:border-primary-600/20
                      hover:bg-primary-50 dark:hover:bg-primary-500/5
                      hover:border-primary-500 hover:text-primary-600 dark:hover:text-primary-400
                      transition-all duration-200 mb-1 group
                      shadow-sm hover:shadow-md"
               (click)="mobileService.closeMobileMenu()">
              <span class="material-icons text-xl mr-3 text-gray-400 dark:text-gray-500
                           group-hover:text-primary-500 transition-colors">
                {{ item.icon }}
              </span>
              <span>{{ item.label }}</span>
            </a>
          }
        </div>
      }
    }
  </div>


</aside>
